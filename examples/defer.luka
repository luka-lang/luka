import "stdlib";
import "stdio";
import "unistd";
import "string";

fn main(): s32 {
  let buffer_size = @sizeOf(u8) * 100;
  let buffer: mut u8* = malloc(buffer_size);
  defer {
    drop(&buffer);
  }
  if (null == buffer) { return EXIT_FAILURE; }
  let s = "Please enter your name: ";
  write(STDOUT_FILENO, s, strlen(s));
  read(STDIN_FILENO, buffer, buffer_size);
  buffer[strlen(buffer) - 1] = 0;
  printf("Your name is %s!\n", buffer);
  EXIT_SUCCESS
}
